schema: '2.0'
stages:
  data_extraction:
    cmd: python src/stages/extract_data.py --config params.yaml
    deps:
    - path: src/stages/extract_data.py
      hash: md5
      md5: d16f2486bb21a310207866ab995e3d35
      size: 1178
    params:
      params.yaml:
        data_load:
          PATH: data/raw
          KAGGLE_USERNAME: arjunbhasin2013
          KAGGLE_DATASET_NAME: ccdata
          dataset_rename: raw_data.csv
    outs:
    - path: data/raw/raw_data.csv
      hash: md5
      md5: c9b0bb7fc9e241b81da92c3528103664
      size: 902879
  train:
    cmd: python src/stages/train.py --config params.yaml
    deps:
    - path: data/raw/raw_data.csv
      hash: md5
      md5: c9b0bb7fc9e241b81da92c3528103664
      size: 902879
    - path: src/stages/train.py
      hash: md5
      md5: 8b1d92e0907a200d561433dd97ff1001
      size: 1714
    params:
      params.yaml:
        train:
          imputation_method: median
          scaler_method: standard
          n_components: 2
          n_clusters: 3
          capping_method: iqr
          tail: both
          fold: 1.5
          transformed_data: data/processed/X_transformed.csv
    outs:
    - path: data/processed/X_transformed.csv
      hash: md5
      md5: 7b3828a09b15d7945ca7e574ea11f4e4
      size: 364365
    - path: models/cluster_pipeline.joblib
      hash: md5
      md5: 623d777168b65291388966c3e266dc63
      size: 41408
  evaluate:
    cmd: python src/stages/evaluate.py --config params.yaml
    deps:
    - path: data/processed/X_transformed.csv
      hash: md5
      md5: 7b3828a09b15d7945ca7e574ea11f4e4
      size: 364365
    - path: src/stages/evaluate.py
      hash: md5
      md5: 0ffd0d7e307b530e456d4599f438d5c5
      size: 1660
    outs:
    - path: reports/clusters.png
      hash: md5
      md5: 91fcb9898233971667078d3ef85dba9e
      size: 420980
    - path: reports/metrics.json
      hash: md5
      md5: 7ee78aec177d91ac8d176340e7465e98
      size: 41
